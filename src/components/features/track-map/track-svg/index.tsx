'use client';

interface TrackSvgProps {
  ref: React.RefObject<SVGPathElement>;
  children: React.ReactNode;
}

export const TrackSvg = ({ ref, children }: TrackSvgProps) => {
  return (
    <svg
      xmlns="http://www.w3.org/2000/svg"
      width="500"
      height="400"
      className="h-full w-full"
      viewBox="0 0 1041.842 873.403"
      version="1.0"
    >
      <defs>
        <pattern
          patternUnits="userSpaceOnUse"
          width="18.181"
          height="18.138"
          patternTransform="translate(763.477 1693.907)scale(.17379)"
          id="a"
        >
          <path
            className="fill-opacity-100 stroke-round stroke-join-round stroke-miterlimit-4 stroke-dasharray-none stroke-dashoffset-0 stroke-opacity-100 fill-dark stroke-none stroke-[0.5] opacity-100"
            d="M1025.535 1215.281h18.173v18.096h-18.173z"
            transform="translate(-1025.535 -1215.281)"
          />
          <path
            className="fill-opacity-100 stroke-round stroke-join-round stroke-miterlimit-4 stroke-dasharray-none stroke-dashoffset-0 stroke-opacity-100 fill-white stroke-none stroke-[0.5] opacity-100"
            d="M1025.535 1215.281h9.075v9.075h-9.075zm9.106 9.063h9.075v9.075h-9.075z"
            transform="translate(-1025.535 -1215.281)"
          />
        </pattern>
        <pattern xlinkHref="#a" id="b" patternTransform="translate(1565.897 -1722.691)scale(.45625)" />
      </defs>
      <g transform="translate(-1277.024 -954.596)">
        {/* Pitlane- white border */}
        <path
          d="M2064.326 1786.331c-1.795 0-161.21-3.589-161.21-3.589-25.323-.797-51.053.41-75.97-2.392-7.884-.887-14.808-6.568-22.431-8.674-2.845-.786-6.014-.376-8.973 0-8.805 1.12-17.52 3.176-26.32 4.486-5.258.783-10.539 1.665-15.852 1.795-39.55.966-79.16.985-118.74 1.495-45.56.587-91.122 1.22-136.684 1.795-41.274.521-83.044 3.019-123.823 1.495-4.583-.171-8.582-3.831-12.263-6.58-4.196-3.133-7.801-6.854-10.618-11.216"
          className="fill-rule-evenodd stroke-linecap-round stroke-linejoin-round stroke-miterlimit-4 stroke-dasharray-none stroke-opacity-100 fill-none stroke-pitlane stroke-[3]"
        />

        {/* Other track paths - light gray */}
        <g>
          <path
            d="M1664.037 1557.13c-3.215-11.858-5.353-30.943-2.288-41.775 2.916-10.304 11.65-20.802 20.338-27.516 8.858-6.845 21.198-12.203 32.302-13.16 12.026-1.037 34.182 6.361 45.178 16.53"
            className="fill-rule-evenodd stroke-linecap-round stroke-linejoin-round stroke-miterlimit-4 stroke-dasharray-none stroke-opacity-100 fill-none stroke-white stroke-[8]"
          />
          <path
            className="stroke-linecap-round stroke-linejoin-round stroke-miterlimit-4 stroke-opacity-100 stroke-dasharray-none fill-none stroke-white stroke-[8]"
            d="M1578.01 1321.39c-.538-9.865 6.875-16.67 4.17-24.498-2.613-6.182-.3-2.219-2.774-5.552-.474-.553 3.013 3.805-2.005-1.283-2.257-2.29-1.614-.679-2.806-1.02-4.77-1.368-1.844.582-7.97-1.2-6.127-1.782-37.378-18.255-53.657-25.157-16.28-6.901-31.675-22.494-39.547-34.44"
          />
          <path
            d="M1577.705 1318.852c.398-5.982 6.507-13.345 10.468-15.852 3.915-2.477 9.69-3.718 14.356-3.29 5.104.47 13.858 2.493 17.946 7.777"
            className="fill-rule-evenodd stroke-linecap-round stroke-linejoin-round stroke-miterlimit-4 stroke-dasharray-none stroke-opacity-100 fill-none stroke-white stroke-[8]"
          />
          <path
            className="stroke-linecap-round stroke-linejoin-round stroke-miterlimit-4 stroke-opacity-100 stroke-dasharray-none fill-none stroke-white stroke-[8]"
            d="M1590.865 1247.07c3.09 7.777 3.37 15.796 1.794 22.731-.916 4.032-3.366 9.54-6.744 12.017-4.1 3.007-15.446 7.716-20.439 5.759"
          />
        </g>

        {/* Main track path outline - light gray */}
        <path
          d="M1710.8 1789.322c-101.691.177-203.089 2.692-304.774 2.692-11.57 0-24.152-.11-34.993-2.692-5.908-1.406-11.808-5.93-15.553-10.767-5.826-7.525-11.285-17.181-13.16-26.32-1.316-6.414.61-14.38 3.59-20.338 3.8-7.601 9.694-15.763 16.748-20.338 7.701-4.996 18.01-7.998 27.517-8.375 40.74-1.617 82.354 3.874 123.226 2.393 14.16-.513 28.237-4.411 41.873-8.375 20.66-6.006 40.372-15.72 61.014-21.534 7.672-2.161 16.115-3.063 23.927-2.393 6.146.527 13.473 1.707 17.946 5.982 22.645 21.646 41.024 49.398 63.407 71.782 5.133 5.132 12.247 8.17 19.142 8.972 10.252 1.192 21.31-.223 28.713-5.981 6.953-5.408 13.937-16.071 14.356-25.722.378-8.693-2.981-18.966-8.374-26.32-29.7-40.5-68.67-75.706-96.906-117.244-13.239-19.477-21.448-42.966-27.516-65.8-9.086-34.192-9.932-70.739-17.946-105.28-3.55-15.307-8.805-30.897-16.749-44.265-8.407-14.149-20.431-26.644-32.302-38.284-13.548-15.338-18.082-16.575-34.484-31.967-10.748-8.601-21.338-16.45-35.092-26.428-5.61-4.071-28.13-19.628-39.89-42.399-22.574-43.702-33.895-83.6-50.846-132.497-3.786-10.92-4.658-23.298-3.59-34.694 1.325-14.127 4.117-29.55 10.768-41.873 6.908-12.8 17.879-25.341 29.31-34.695 10.502-8.592 23.547-15.906 36.49-19.142 15.77-3.942 33.807-3.804 50.247-1.196 41.385 6.564 64.464 17.583 106.177 23.03 28.027 3.66 66.095 5.919 93.915 8.674 8.915.883 27.899 11.964 32.003 19.74 11.05 20.936 19.396 46.458 22.73 70.585 3.445 24.924 1.619 51.497-4.785 75.97-3.904 14.921-6.648 31.342-14.954 43.068-5.253 7.416-14.548 11.302-23.629 11.665-10.858.434-25.564-7.42-33.797-14.955-15.296-14-25.49-28.425-36.489-46.359-14.883-24.266-31.597-48.905-51.444-68.192-8.467-8.23-22.1-13.528-33.498-14.357-10.536-.766-23.821 3.312-32.302 9.571-8.269 6.103-15.69 17.166-16.45 27.516-1.21 16.478.798 34.584 6.281 51.145 14.456 43.656 31.318 88.058 52.042 129.506 15.167 30.334 32.39 60.173 52.64 87.335 29.997 40.233 63.599 78.333 98.102 114.85 20.13 21.307 40.617 35.013 61.912 55.033 13.504 12.697 8.569 19.207 3.888 25.124-4.68 5.917-17.945 22.731-17.945 28.713s.199 23.528 8.374 31.105c8.016 7.43 30.175 14.426 40.975 7.777 67.563-41.592 139.393-86.122 209.663-130.703 10.636-6.747 29.188-10.69 41.275-9.87 11.441.776 25.988 7.265 32.9 16.15 15.42 19.827 24.913 44.944 34.096 69.988 8.364 22.81 14.258 47.494 15.852 71.184 1.197 17.784-2.81 36.766-9.87 53.238-7.297 17.026-18.445 33.548-32.6 45.163-16.95 13.907-57.508 32.019-79.858 32.302-125.649 1.587-233.69-1.12-361.302-.898"
          className="fill-rule-evenodd stroke-linecap-round stroke-linejoin-round stroke-miterlimit-4 stroke-dasharray-none stroke-opacity-100 fill-none stroke-track-border/75 stroke-[19]"
        />

        {/* Main track path - gray */}
        <path
          className="stroke-linecap-round stroke-linejoin-round stroke-miterlimit-4 stroke-opacity-100 stroke-dasharray-none fill-none stroke-track stroke-[16]"
          ref={ref}
          d="M1710.8 1789.322c-101.691.177-203.089 2.692-304.774 2.692-11.57 0-24.152-.11-34.993-2.692-5.908-1.406-11.808-5.93-15.553-10.767-5.826-7.525-11.285-17.181-13.16-26.32-1.316-6.414.61-14.38 3.59-20.338 3.8-7.601 9.694-15.763 16.748-20.338 7.701-4.996 18.01-7.998 27.517-8.375 40.74-1.617 82.354 3.874 123.226 2.393 14.16-.513 28.237-4.411 41.873-8.375 20.66-6.006 40.372-15.72 61.014-21.534 7.672-2.161 16.115-3.063 23.927-2.393 6.146.527 13.473 1.707 17.946 5.982 22.645 21.646 41.024 49.398 63.407 71.782 5.133 5.132 12.247 8.17 19.142 8.972 10.252 1.192 21.31-.223 28.713-5.981 6.953-5.408 13.937-16.071 14.356-25.722.378-8.693-2.981-18.966-8.374-26.32-29.7-40.5-68.67-75.706-96.906-117.244-13.239-19.477-21.448-42.966-27.516-65.8-9.086-34.192-9.932-70.739-17.946-105.28-3.55-15.307-8.805-30.897-16.749-44.265-8.407-14.149-20.431-26.644-32.302-38.284-13.548-15.338-18.082-16.575-34.484-31.967-10.748-8.601-21.338-16.45-35.092-26.428-5.61-4.071-28.13-19.628-39.89-42.399-22.574-43.702-33.895-83.6-50.846-132.497-3.786-10.92-4.658-23.298-3.59-34.694 1.325-14.127 4.117-29.55 10.768-41.873 6.908-12.8 17.879-25.341 29.31-34.695 10.502-8.592 23.547-15.906 36.49-19.142 15.77-3.942 33.807-3.804 50.247-1.196 41.385 6.564 64.464 17.583 106.177 23.03 28.027 3.66 66.095 5.919 93.915 8.674 8.915.883 27.899 11.964 32.003 19.74 11.05 20.936 19.396 46.458 22.73 70.585 3.445 24.924 1.619 51.497-4.785 75.97-3.904 14.921-6.648 31.342-14.954 43.068-5.253 7.416-14.548 11.302-23.629 11.665-10.858.434-25.564-7.42-33.797-14.955-15.296-14-25.49-28.425-36.489-46.359-14.883-24.266-31.597-48.905-51.444-68.192-8.467-8.23-22.1-13.528-33.498-14.357-10.536-.766-23.821 3.312-32.302 9.571-8.269 6.103-15.69 17.166-16.45 27.516-1.21 16.478.798 34.584 6.281 51.145 14.456 43.656 31.318 88.058 52.042 129.506 15.167 30.334 32.39 60.173 52.64 87.335 29.997 40.233 63.599 78.333 98.102 114.85 20.13 21.307 40.617 35.013 61.912 55.033 13.504 12.697 8.569 19.207 3.888 25.124-4.68 5.917-17.945 22.731-17.945 28.713s.199 23.528 8.374 31.105c8.016 7.43 30.175 14.426 40.975 7.777 67.563-41.592 139.393-86.122 209.663-130.703 10.636-6.747 29.188-10.69 41.275-9.87 11.441.776 25.988 7.265 32.9 16.15 15.42 19.827 24.913 44.944 34.096 69.988 8.364 22.81 14.258 47.494 15.852 71.184 1.197 17.784-2.81 36.766-9.87 53.238-7.297 17.026-18.445 33.548-32.6 45.163-16.95 13.907-57.508 32.019-79.858 32.302-125.649 1.587-233.69-1.12-361.302-.898"
        />

        {/* Finish line - checkered pattern */}
        <rect
          className="fill-opacity-100 stroke-linecap-round stroke-linejoin-round stroke-miterlimit-4 stroke-dasharray-none stroke-dashoffset-0 stroke-opacity-100 inline fill-[url(#b)] stroke-checkered-black stroke-[0.75] opacity-100"
          width="12.409"
          height="45.403"
          x="1723.24"
          y="-1801.317"
          transform="scale(1 -1)rotate(-.295)"
          ry="0"
        />

        {/* Children are the dots that move around the track */}
        {children}
      </g>
    </svg>
  );
};
